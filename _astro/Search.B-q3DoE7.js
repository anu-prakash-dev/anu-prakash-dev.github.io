import{o as ce,a as de,I as H,r as q,i as F,b as K,h as ue}from"./Icon.BGredqlE.js";import{z as ve,y as N,A as he,j as m,o as re,B as pe,H as me,C as U,D as W,E as P,F as C,G as _e,I as be,J as ne,K as le,L as ge,M as V,N as se,O as X,P as xe,m as D,Q as z,R as ke,S as we,T as ye,U as Ee,V as Ie,W as Te,X as Ae,Y as Me,Z as Re,p as Se,l as G,n as Ne,f as ie,_ as Ce,t as J,e as Q,a as Z,b as Le,s as T,c as A,r as M,u as B,q as $,i as L,k as He}from"./render.zz1ogquA.js";import{b as j}from"./input.BfBes3LT.js";import{I as ee}from"./zh_TW.CN-J60D_.js";import{u as ae}from"./url-utils.BIVyhTkc.js";/* empty css                        */function Be(c,e){return e}function De(c,e,a,i){for(var u=[],h=e.length,v=0;v<h;v++)ye(e[v].e,u,!0);var x=h>0&&u.length===0&&a!==null;if(x){var d=a.parentNode;Ee(d),d.append(a),i.clear(),E(c,e[0].prev,e[h-1].next)}Ie(u,()=>{for(var b=0;b<h;b++){var t=e[b];x||(i.delete(t.k),E(c,t.prev,t.next)),Te(t.e,!x)}})}function Oe(c,e,a,i,u,h=null){var v=c,x={flags:e,items:new Map,first:null};N&&he();var d=null,b=!1,t=re(()=>{var s=a();return ke(s)?s:s==null?[]:se(s)});ve(()=>{var s=m(t),r=s.length;if(b&&r===0)return;b=r===0;let o=!1;if(N){var l=pe(v)===me;l!==(r===0)&&(v=U(),W(v),P(!1),o=!0)}if(N){for(var w=null,k,n=0;n<r;n++){if(C.nodeType===_e&&C.data===be){v=C,o=!0,P(!1);break}var g=s[n],I=i(g,n);k=oe(C,x,w,null,g,I,n,u,e,a),x.items.set(I,k),w=k}r>0&&W(U())}N||Pe(s,x,v,u,e,i,a),h!==null&&(r===0?d?ne(d):d=le(()=>h(v)):d!==null&&ge(d,()=>{d=null})),o&&P(!0),m(t)}),N&&(v=C)}function Pe(c,e,a,i,u,h,v){var x=c.length,d=e.items,b=e.first,t=b,s,r=null,o=[],l=[],w,k,n,g;for(g=0;g<x;g+=1){if(w=c[g],k=h(w,g),n=d.get(k),n===void 0){var I=t?t.e.nodes_start:a;r=oe(I,e,r,r===null?e.first:r.next,w,k,g,i,u,v),d.set(k,r),o=[],l=[],t=r.next;continue}if(Ve(n,w,g),(n.e.f&V)!==0&&ne(n.e),n!==t){if(s!==void 0&&s.has(n)){if(o.length<l.length){var R=l[0],f;r=R.prev;var _=o[0],p=o[o.length-1];for(f=0;f<o.length;f+=1)te(o[f],R,a);for(f=0;f<l.length;f+=1)s.delete(l[f]);E(e,_.prev,p.next),E(e,r,_),E(e,p,R),t=R,r=p,g-=1,o=[],l=[]}else s.delete(n),te(n,t,a),E(e,n.prev,n.next),E(e,n,r===null?e.first:r.next),E(e,r,n),r=n;continue}for(o=[],l=[];t!==null&&t.k!==k;)(t.e.f&V)===0&&(s??=new Set).add(t),l.push(t),t=t.next;if(t===null)continue;n=t}o.push(n),r=n,t=n.next}if(t!==null||s!==void 0){for(var y=s===void 0?[]:se(s);t!==null;)(t.e.f&V)===0&&y.push(t),t=t.next;var S=y.length;if(S>0){var O=null;De(e,y,O,d)}}X.first=e.first&&e.first.e,X.last=r&&r.e}function Ve(c,e,a,i){xe(c.v,e),c.i=a}function oe(c,e,a,i,u,h,v,x,d,b){var t=(d&Ae)!==0,s=(d&Me)===0,r=t?s?D(u,!1,!1):z(u):u,o=(d&we)===0?v:z(v),l={i:o,v:r,k:h,a:null,e:null,prev:a,next:i};try{return l.e=le(()=>x(c,r,o,b),N),l.e.prev=a&&a.e,l.e.next=i&&i.e,a===null?e.first=l:(a.next=l,a.e.next=l.e),i!==null&&(i.prev=l,i.e.prev=l.e),l}finally{}}function te(c,e,a){for(var i=c.next?c.next.e.nodes_start:a,u=e?e.e.nodes_start:a,h=c.e.nodes_start;h!==i;){var v=Re(h);u.before(h),h=v}}function E(c,e,a){e===null?c.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}var Ye=ie(`<a class="transition first-of-type:mt-2 lg:first-of-type:mt-0 group block
       rounded-xl text-lg px-3 py-2 hover:bg-[var(--btn-plain-bg-hover)] active:bg-[var(--btn-plain-bg-active)]"><div class="transition text-90 inline-flex font-bold group-hover:text-[var(--primary)]"> <!></div> <div class="transition text-sm text-50"><!></div></a>`),qe=ie(`<div id="search-bar" class="hidden lg:flex transition-all items-center h-11 mr-2 rounded-lg
      bg-black/[0.04] hover:bg-black/[0.06] focus-within:bg-black/[0.06]
      dark:bg-white/5 dark:hover:bg-white/10 dark:focus-within:bg-white/10
"><!> <input class="transition-all pl-10 text-sm bg-transparent outline-0
         h-full w-40 active:w-60 focus:w-60 text-black/50 dark:text-white/50 svelte-1adkdfv"/></div> <button aria-label="Search Panel" id="search-switch" class="btn-plain scale-animation lg:!hidden rounded-lg w-11 h-11 active:scale-90"><!></button> <div id="search-panel" class="float-panel float-panel-closed search-panel absolute md:w-[30rem]
top-20 left-4 md:left-[unset] right-4 shadow-2xl rounded-2xl p-2 svelte-1adkdfv"><div id="search-bar-inside" class="flex relative lg:hidden transition-all items-center h-11 rounded-xl
      bg-black/[0.04] hover:bg-black/[0.06] focus-within:bg-black/[0.06]
      dark:bg-white/5 dark:hover:bg-white/10 dark:focus-within:bg-white/10
  "><!> <input placeholder="Search" class="pl-10 absolute inset-0 text-sm bg-transparent outline-0
               focus:w-60 text-black/50 dark:text-white/50 svelte-1adkdfv"/></div> <!></div>`,1);function Ge(c,e){Se(e,!1);let a=D(""),i=D(""),u=D([]),h=!1;const v=[{url:ae("/"),meta:{title:"This Is a Fake Search Result"},excerpt:"Because the search cannot work in the <mark>dev</mark> environment."},{url:ae("/"),meta:{title:"If You Want to Test the Search"},excerpt:"Try running <mark>npm build && npm preview</mark> instead."}],x=()=>{document.getElementById("search-panel")?.classList.toggle("float-panel-closed")},d=(f,_)=>{const p=document.getElementById("search-panel");!p||!_||(f?p.classList.remove("float-panel-closed"):p.classList.add("float-panel-closed"))},b=async(f,_)=>{if(!f){d(!1,_),L(u,[]);return}try{let p=[];if(h){const y=await window.pagefind.search(f);p=await Promise.all(y.results.map(S=>S.data()))}else p=v;L(u,p),d(m(u).length>0,_)}catch(p){console.error("Search error:",p),L(u,[]),d(!1,_)}finally{}};ce(async()=>{h=typeof window<"u"&&"pagefind"in window}),G(()=>m(a),()=>{b(m(a),!0)}),G(()=>m(i),()=>{b(m(i),!1)}),Ne(),de();var t=qe(),s=Ce(t),r=A(s);H(r,{icon:"material-symbols:search",class:"absolute text-[1.25rem] pointer-events-none ml-3 transition my-auto text-black/30 dark:text-white/30"});var o=T(r,2);q(o),M(s);var l=T(s,2),w=A(l);H(w,{icon:"material-symbols:search",class:"text-[1.25rem]"}),M(l);var k=T(l,2),n=A(k),g=A(n);H(g,{icon:"material-symbols:search",class:"absolute text-[1.25rem] pointer-events-none ml-3 transition my-auto text-black/30 dark:text-white/30"});var I=T(g,2);q(I),M(n);var R=T(n,2);Oe(R,1,()=>m(u),Be,(f,_)=>{var p=Ye(),y=A(p),S=A(y,!0),O=T(S);H(O,{icon:"fa6-solid:chevron-right",class:"transition text-[0.75rem] translate-x-1 my-auto text-[var(--primary)]"}),M(y);var Y=T(y,2),fe=A(Y);ue(fe,()=>(m(_),B(()=>m(_).excerpt))),M(Y),M(p),J(()=>{K(p,"href",(m(_),B(()=>m(_).url))),He(S,(m(_),B(()=>m(_).meta.title)))}),Z(f,p)}),M(k),J(f=>K(o,"placeholder",f),[()=>($(F),$(ee),B(()=>F(ee.search)))],re),j(o,()=>m(a),f=>L(a,f)),Q("focus",o,()=>b(m(a),!0)),Q("click",l,x),j(I,()=>m(i),f=>L(i,f)),Z(c,t),Le()}export{Ge as default};
